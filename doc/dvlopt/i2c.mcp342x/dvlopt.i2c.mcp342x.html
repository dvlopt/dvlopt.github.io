<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>dvlopt.i2c.mcp342x documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">I2c.mcp342x</span> <span class="project-version">0.0.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="dvlopt.i2c.mcp342x.html"><div class="inner"><span>dvlopt.i2c.mcp342x</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="dvlopt.i2c.mcp342x.html#var-address"><div class="inner"><span>address</span></div></a></li><li class="depth-1"><a href="dvlopt.i2c.mcp342x.html#var-byte-.3Eparameters"><div class="inner"><span>byte-&gt;parameters</span></div></a></li><li class="depth-1"><a href="dvlopt.i2c.mcp342x.html#var-data-buffer"><div class="inner"><span>data-buffer</span></div></a></li><li class="depth-1"><a href="dvlopt.i2c.mcp342x.html#var-defaults"><div class="inner"><span>defaults</span></div></a></li><li class="depth-1"><a href="dvlopt.i2c.mcp342x.html#var-flags"><div class="inner"><span>flags</span></div></a></li><li class="depth-1"><a href="dvlopt.i2c.mcp342x.html#var-get-flag"><div class="inner"><span>get-flag</span></div></a></li><li class="depth-1"><a href="dvlopt.i2c.mcp342x.html#var-input-voltage"><div class="inner"><span>input-voltage</span></div></a></li><li class="depth-1"><a href="dvlopt.i2c.mcp342x.html#var-output-code"><div class="inner"><span>output-code</span></div></a></li><li class="depth-1"><a href="dvlopt.i2c.mcp342x.html#var-parameters-.3Ebyte"><div class="inner"><span>parameters-&gt;byte</span></div></a></li><li class="depth-1"><a href="dvlopt.i2c.mcp342x.html#var-process"><div class="inner"><span>process</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">dvlopt.i2c.mcp342x</h1><div class="doc"><pre class="plaintext">Specs and functions for talking to MCP342x converters using I2C.

Those devices are configured using a single byte and the input voltage is read directly.

Parameters used throughout this library are :

  ::channel
    Up to 4 channels are available depending on the model.

  ::converting?
    When writing the configuration byte, this parameter must be set to true for initiating
    a new measure in :one-shot mode. It does not matter in :continuous mode.
    When reading the input voltage, the converter sets this parameter to false when a new
    conversion is ready.

  ::mode
    In :continuous mode, the converter measures the input voltage constantly whereas in
    :one-shot mode, the measure only happens when the master writes a configuration byte
    with ::converting? set to true.

  ::pga
    Programamble Gain Amplifier.

  ::resolution
    Number of bits the input voltage is represented by, depending on the model.</pre></div><div class="public anchor" id="var-address"><h3>address</h3><div class="usage"><code>(address)</code><code>(address a0 a1 a2)</code></div><div class="doc"><pre class="plaintext">Gets the address of a slave device.

The user can use pins `a0`, `a1` and `a2` to modify the default address.</pre></div></div><div class="public anchor" id="var-byte-.3Eparameters"><h3>byte-&gt;parameters</h3><div class="usage"><code>(byte-&gt;parameters b)</code></div><div class="doc"><pre class="plaintext">Converts a configuration byte into a map of parameters.
</pre></div></div><div class="public anchor" id="var-data-buffer"><h3>data-buffer</h3><div class="usage"><code>(data-buffer resolution)</code></div><div class="doc"><pre class="plaintext">Creates a byte array depending on the needed resolution for reading data.
</pre></div></div><div class="public anchor" id="var-defaults"><h3>defaults</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Default values for this namespace.
</pre></div></div><div class="public anchor" id="var-flags"><h3>flags</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Bit flags for the configuration byte.
</pre></div></div><div class="public anchor" id="var-get-flag"><h3>get-flag</h3><div class="usage"><code>(get-flag opts parameter)</code></div><div class="doc"><pre class="plaintext">Gets the flag value of a parameter, fetching the default one if needed.
</pre></div></div><div class="public anchor" id="var-input-voltage"><h3>input-voltage</h3><div class="usage"><code>(input-voltage resolution pga output-code)</code></div><div class="doc"><pre class="plaintext">Given the resolution, the PGA and the output code, computes the input voltage.
</pre></div></div><div class="public anchor" id="var-output-code"><h3>output-code</h3><div class="usage"><code>(output-code resolution data-buffer)</code></div><div class="doc"><pre class="plaintext">Given the resolution, computes the output code of a data buffer.
</pre></div></div><div class="public anchor" id="var-parameters-.3Ebyte"><h3>parameters-&gt;byte</h3><div class="usage"><code>(parameters-&gt;byte)</code><code>(parameters-&gt;byte opts)</code></div><div class="doc"><pre class="plaintext">Given a map of parameters, returns a configuration byte.
</pre></div></div><div class="public anchor" id="var-process"><h3>process</h3><div class="usage"><code>(process data-buffer)</code></div><div class="doc"><pre class="plaintext">Process a data buffer in order to read the parameters and input voltage.
</pre></div></div></div></body></html>