<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>dvlopt.kstreams documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Kafka</span> <span class="project-version">1.3.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dvlopt</span></div></div></li><li class="depth-2"><a href="dvlopt.kafka.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kafka</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kafka.admin.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>admin</span></div></a></li><li class="depth-3"><a href="dvlopt.kafka.in.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>in</span></div></a></li><li class="depth-4"><a href="dvlopt.kafka.in.mock.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mock</span></div></a></li><li class="depth-3"><a href="dvlopt.kafka.out.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>out</span></div></a></li><li class="depth-4"><a href="dvlopt.kafka.out.mock.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mock</span></div></a></li><li class="depth-2 current"><a href="dvlopt.kstreams.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>kstreams</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kstreams.builder.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>builder</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kstreams.ctx.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ctx</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kstreams.mock.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mock</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kstreams.store.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>store</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kstreams.stream.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stream</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kstreams.table.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>table</span></div></a></li><li class="depth-3"><a href="dvlopt.kstreams.topology.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>topology</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="dvlopt.kstreams.html#var-app"><div class="inner"><span>app</span></div></a></li><li class="depth-1"><a href="dvlopt.kstreams.html#var-clean-up"><div class="inner"><span>clean-up</span></div></a></li><li class="depth-1"><a href="dvlopt.kstreams.html#var-disband"><div class="inner"><span>disband</span></div></a></li><li class="depth-1"><a href="dvlopt.kstreams.html#var-kv-store"><div class="inner"><span>kv-store</span></div></a></li><li class="depth-1"><a href="dvlopt.kstreams.html#var-metrics"><div class="inner"><span>metrics</span></div></a></li><li class="depth-1"><a href="dvlopt.kstreams.html#var-remote-instances"><div class="inner"><span>remote-instances</span></div></a></li><li class="depth-1"><a href="dvlopt.kstreams.html#var-session-store"><div class="inner"><span>session-store</span></div></a></li><li class="depth-1"><a href="dvlopt.kstreams.html#var-start"><div class="inner"><span>start</span></div></a></li><li class="depth-1"><a href="dvlopt.kstreams.html#var-state"><div class="inner"><span>state</span></div></a></li><li class="depth-1"><a href="dvlopt.kstreams.html#var-window-store"><div class="inner"><span>window-store</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">dvlopt.kstreams</h1><div class="doc"><pre class="plaintext">Kafka Streams applications.


An app is a topology of nodes sourcing, processing, and sending records. Such a topology can be built in a rather imperative fashion
by using the `dvlopt.kstreams.topology` namespace, the so-called "low-level API". The `dvlopt.kstreams.builder` namespace is the
entry point of the so-called "high-level API". It provides a "builder" which will build a topology for the user while he/she enjoys
the rather functional API. Both APIs are actually complementary. Once a builder produces a topology, it can be augmented using the
low-level API if needed.

The high-level API is usually prefered.</pre></div><div class="public anchor" id="var-app"><h3>app</h3><div class="usage"><code>(app application-id topology)</code><code>(app application-id topology options)</code></div><div class="doc"><pre class="plaintext">Given a topology, creates a Kafka Streams application.

In order to release the ressource associated with an application, `disband` must be always called when done, even if the
application has not been started.

Works with clojure's `with-open` which behaves like calling `disband` without options.


A map of options may be given :

  :dvlopt.kafka/nodes
   List of [Host Port].

  :dvlopt.kafka.admin/configuration.topics
   Map of topic properties applying to any topic created by the application.
   Cf. <a href="https://kafka.apache.org/documentation/#topicconfigs">https://kafka.apache.org/documentation/#topicconfigs</a>

  :dvlopt.kafka.in/configuration
   Map of consumer properties applying to any consumer needed by the app.
   Cf. <a href="https://kafka.apache.org/documentation/#newconsumerconfigs">https://kafka.apache.org/documentation/#newconsumerconfigs</a>

  :dvlopt.kafka.out/configuration
   Map of producer properties applying to any producer needed by the app.
   Cf. <a href="https://kafka.apache.org/documentation/#producerconfigs">https://kafka.apache.org/documentation/#producerconfigs</a>

  ::configuration
   Map of Kafka Streams properties.
   Cf. <a href="https://kafka.apache.org/documentation/#streamsconfigs">https://kafka.apache.org/documentation/#streamsconfigs</a>

  ::on-exception
   Callback taking an Exception and a Thread, called when an error occurs during runtime.

  ::on-state-change
   Callback accepting an old state and a new one, called everytime the state changes.
   Cf. `state`</pre></div></div><div class="public anchor" id="var-clean-up"><h3>clean-up</h3><div class="usage"><code>(clean-up app)</code></div><div class="doc"><pre class="plaintext">Does a clean-up of the local state store directory by deleting all data with regard to the application ID.
</pre></div></div><div class="public anchor" id="var-disband"><h3>disband</h3><div class="usage"><code>(disband app)</code><code>(disband app options)</code></div><div class="doc"><pre class="plaintext">Releases resources acquired for the Kafka Streams application (after stopping it if it was running).

A map of options may be given :

  :timeout
   Cf. `dvlopt.kafka` for description of time intervals</pre></div></div><div class="public anchor" id="var-kv-store"><h3>kv-store</h3><div class="usage"><code>(kv-store app store-name)</code></div><div class="doc"><pre class="plaintext">Retrieves a read-only key-value store used by the application.
</pre></div></div><div class="public anchor" id="var-metrics"><h3>metrics</h3><div class="usage"><code>(metrics app)</code></div><div class="doc"><pre class="plaintext">Requests metrics about this application.

Returned valued presented in the same form as `dvlopt.kafka.out/metrics`.</pre></div></div><div class="public anchor" id="var-remote-instances"><h3>remote-instances</h3><div class="usage"><code>(remote-instances app)</code></div><div class="doc"><pre class="plaintext">Returns a vector of maps about instances of this application running on other hosts.

Each map represents a point in time and contains :

  :dvlopt.kafka/host
   Host of the remote instance.

  :dvlopt.kafka/port
   Port associated with the remote instance.

  :dvlopt.kafka/topic-partitions
   List of [topic partition]'s the remote instance is handling.

  :dvlopt.kstreams.store/names
   List of the store names the instance is handling.</pre></div></div><div class="public anchor" id="var-session-store"><h3>session-store</h3><div class="usage"><code>(session-store app store-name)</code></div><div class="doc"><pre class="plaintext">Retrieves a read-only session store used by the application.
</pre></div></div><div class="public anchor" id="var-start"><h3>start</h3><div class="usage"><code>(start app)</code></div><div class="doc"><pre class="plaintext">Starts a Kafka Streams application.
</pre></div></div><div class="public anchor" id="var-state"><h3>state</h3><div class="usage"><code>(state app)</code></div><div class="doc"><pre class="plaintext">Returns the current state of the application, one of :

:created
:error
:not-running
:pending-shutdown
:rebalancing
:running</pre></div></div><div class="public anchor" id="var-window-store"><h3>window-store</h3><div class="usage"><code>(window-store app store-name)</code></div><div class="doc"><pre class="plaintext">Retrieves a read-only window store used by the application.
</pre></div></div></div></body></html>