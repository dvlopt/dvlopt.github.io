<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>dvlopt.kafka.out.mock documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Kafka</span> <span class="project-version">1.2.0-beta0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dvlopt</span></div></div></li><li class="depth-2"><a href="dvlopt.kafka.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kafka</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kafka.admin.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>admin</span></div></a></li><li class="depth-3"><a href="dvlopt.kafka.in.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>in</span></div></a></li><li class="depth-4"><a href="dvlopt.kafka.in.mock.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mock</span></div></a></li><li class="depth-3"><a href="dvlopt.kafka.out.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>out</span></div></a></li><li class="depth-4 current"><a href="dvlopt.kafka.out.mock.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mock</span></div></a></li><li class="depth-2"><a href="dvlopt.kstreams.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>kstreams</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kstreams.builder.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>builder</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kstreams.ctx.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ctx</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kstreams.store.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>store</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kstreams.stream.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stream</span></div></a></li><li class="depth-3 branch"><a href="dvlopt.kstreams.table.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>table</span></div></a></li><li class="depth-3"><a href="dvlopt.kstreams.topology.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>topology</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-advance"><div class="inner"><span>advance</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-clear-history"><div class="inner"><span>clear-history</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-closed.3F"><div class="inner"><span>closed?</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-fail"><div class="inner"><span>fail</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-flushed.3F"><div class="inner"><span>flushed?</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-mock-producer"><div class="inner"><span>mock-producer</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-records"><div class="inner"><span>records</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-trx-aborted.3F"><div class="inner"><span>trx-aborted?</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-trx-committed-offsets"><div class="inner"><span>trx-committed-offsets</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-trx-committed.3F"><div class="inner"><span>trx-committed?</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-trx-count-commits"><div class="inner"><span>trx-count-commits</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-trx-in-flight.3F"><div class="inner"><span>trx-in-flight?</span></div></a></li><li class="depth-1"><a href="dvlopt.kafka.out.mock.html#var-trx-init.3F"><div class="inner"><span>trx-init?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">dvlopt.kafka.out.mock</h1><div class="doc"><pre class="plaintext">Mocking Kafka producers.
</pre></div><div class="public anchor" id="var-advance"><h3>advance</h3><div class="usage"><code>(advance mock-producer)</code></div><div class="doc"><pre class="plaintext">When the ::autocomplete? options is set to false, this function is used to complete the next pending send
operation.

Returns true if there was a pending record, false otherwise.</pre></div></div><div class="public anchor" id="var-clear-history"><h3>clear-history</h3><div class="usage"><code>(clear-history mock-producer)</code></div><div class="doc"><pre class="plaintext">Clears the history underlying these functions :

`records`
`trx-committed-offsets`</pre></div></div><div class="public anchor" id="var-closed.3F"><h3>closed?</h3><div class="usage"><code>(closed? mock-producer)</code></div><div class="doc"><pre class="plaintext">Is this mock producer closed ?
</pre></div></div><div class="public anchor" id="var-fail"><h3>fail</h3><div class="usage"><code>(fail mock-producer exception)</code></div><div class="doc"><pre class="plaintext">Like `advance` but fails the next pending send operation with the given exception.
</pre></div></div><div class="public anchor" id="var-flushed.3F"><h3>flushed?</h3><div class="usage"><code>(flushed? mock-producer)</code></div><div class="doc"><pre class="plaintext">Is this mock producer flushed ?
</pre></div></div><div class="public anchor" id="var-mock-producer"><h3>mock-producer</h3><div class="usage"><code>(mock-producer)</code><code>(mock-producer options)</code></div><div class="doc"><pre class="plaintext">Builds a mock Kafka producer for testing purposes. It can use the `dvlopt.kafka.out` API like a regular producer.

A map of options may be given :

  :dvlopt.kafka/serializer.key
  :dvlopt.kafka/serializer.value
   Cf. `dvlopt.kafka` for description of serializers.

  ::auto-complete?
   By default, each send operation is completed synchronously. Set this option to false in order to keep control.
   cf. `advance`</pre></div></div><div class="public anchor" id="var-records"><h3>records</h3><div class="usage"><code>(records mock-producer)</code></div><div class="doc"><pre class="plaintext">Returns a list of records this mock producer received.

Can be cleared with `clear-history`.</pre></div></div><div class="public anchor" id="var-trx-aborted.3F"><h3>trx-aborted?</h3><div class="usage"><code>(trx-aborted? mock-producer)</code></div><div class="doc"><pre class="plaintext">Is the current transaction of this mock producer aborted ?
</pre></div></div><div class="public anchor" id="var-trx-committed-offsets"><h3>trx-committed-offsets</h3><div class="usage"><code>(trx-committed-offsets mock-producer)</code></div><div class="doc"><pre class="plaintext">Returns a list of consumer offsets transaction commits (ie. maps of consumer-group -&gt; (map of [topic partition] -&gt; offset)).

Can be cleared with `clear-history`.</pre></div></div><div class="public anchor" id="var-trx-committed.3F"><h3>trx-committed?</h3><div class="usage"><code>(trx-committed? mock-producer)</code></div><div class="doc"><pre class="plaintext">Is the current transaction of this mock producer committed ?
</pre></div></div><div class="public anchor" id="var-trx-count-commits"><h3>trx-count-commits</h3><div class="usage"><code>(trx-count-commits mock-producer)</code></div><div class="doc"><pre class="plaintext">Returns the number of transactions committed by this mock producer.
</pre></div></div><div class="public anchor" id="var-trx-in-flight.3F"><h3>trx-in-flight?</h3><div class="usage"><code>(trx-in-flight? mock-producer)</code></div><div class="doc"><pre class="plaintext">Is there a transaction in flight for this mock producer ?
</pre></div></div><div class="public anchor" id="var-trx-init.3F"><h3>trx-init?</h3><div class="usage"><code>(trx-init? mock-producer)</code></div><div class="doc"><pre class="plaintext">Is there a transaction initialized for this mock producer ?
</pre></div></div></div></body></html>