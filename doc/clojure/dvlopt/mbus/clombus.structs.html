<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clombus.structs documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clombus</span> <span class="project-version">0.0.0-alpha0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clombus</span></div></div></li><li class="depth-2 branch current"><a href="clombus.structs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>structs</span></div></a></li><li class="depth-2"><a href="clombus.wired.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>wired</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clombus.structs.html#var-IDataRecord"><div class="inner"><span>IDataRecord</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-description"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>description</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-exp10"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>exp10</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-function-field"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>function-field</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-scaled-value"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scaled-value</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-storage-number"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>storage-number</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-ud-description"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ud-description</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-unit"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>unit</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-value"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>value</span></div></a></li><li class="depth-2"><a href="clombus.structs.html#var-value-type"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>value-type</span></div></a></li><li class="depth-1"><a href="clombus.structs.html#var-IMappify"><div class="inner"><span>IMappify</span></div></a></li><li class="depth-2"><a href="clombus.structs.html#var-to-map"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>to-map</span></div></a></li><li class="depth-1"><a href="clombus.structs.html#var-ISecondaryAddress"><div class="inner"><span>ISecondaryAddress</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-device-id"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>device-id</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-device-type"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>device-type</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-manufacturer-id"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>manufacturer-id</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-to-ba"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>to-ba</span></div></a></li><li class="depth-2"><a href="clombus.structs.html#var-version"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>version</span></div></a></li><li class="depth-1"><a href="clombus.structs.html#var-IVariableDataStructure"><div class="inner"><span>IVariableDataStructure</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-access-number"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>access-number</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-manufacturer-data"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>manufacturer-data</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-more-records.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>more-records?</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-records"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>records</span></div></a></li><li class="depth-2 branch"><a href="clombus.structs.html#var-slave-address"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>slave-address</span></div></a></li><li class="depth-2"><a href="clombus.structs.html#var-status"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>status</span></div></a></li><li class="depth-1"><a href="clombus.structs.html#var-secondary-address"><div class="inner"><span>secondary-address</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clombus.structs</h1><div class="doc"><pre class="plaintext">Avoid brutal interop with jMbus objects.

This namespace provides protocols for secondary addresses, data records and
variable data structures.</pre></div><div class="public anchor" id="var-IDataRecord"><h3>IDataRecord</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Extract information from a data record sent by a slave device via a variable data structure
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-description"><h3>description</h3><div class="usage"><code>(description this)</code></div><div class="doc"><pre class="plaintext">Get the meaning of the data value such as :energy or :volume
</pre></div></div><div class="public anchor" id="var-exp10"><h3>exp10</h3><div class="usage"><code>(exp10 this)</code></div><div class="doc"><pre class="plaintext">The raw value might need to be scaled using scientific notation.

This fn returns the base 10 exponent.</pre></div></div><div class="public anchor" id="var-function-field"><h3>function-field</h3><div class="usage"><code>(function-field this)</code></div><div class="doc"><pre class="plaintext">Get the function field, what is the function of this data.

:instant  Instant value
:max      Maximum value
:min      Minimum value
:error    Error   value</pre></div></div><div class="public anchor" id="var-scaled-value"><h3>scaled-value</h3><div class="usage"><code>(scaled-value this)</code></div><div class="doc"><pre class="plaintext">Get the scaled value.

Cf. `value`
    `exp10`</pre></div></div><div class="public anchor" id="var-storage-number"><h3>storage-number</h3><div class="usage"><code>(storage-number this)</code></div><div class="doc"><pre class="plaintext">Get the storage number.

A meter can have several storages, usually to store short time-series. 

Storage 0 signals the latest value.</pre></div></div><div class="public anchor" id="var-ud-description"><h3>ud-description</h3><div class="usage"><code>(ud-description this)</code></div><div class="doc"><pre class="plaintext">If the description is :user-defined, returns a string representing a user-defined
description</pre></div></div><div class="public anchor" id="var-unit"><h3>unit</h3><div class="usage"><code>(unit this)</code></div><div class="doc"><pre class="plaintext">Get the unit of this value as defined in IEC 62056-6-2.

A few non-standard units have been added for M-bus.

Returns a map containing :unit      (eg. :cubic:meter)
                         :unit-str  (eg. "mÂ³")</pre></div></div><div class="public anchor" id="var-value"><h3>value</h3><div class="usage"><code>(value this)</code></div><div class="doc"><pre class="plaintext">Get the raw value
</pre></div></div><div class="public anchor" id="var-value-type"><h3>value-type</h3><div class="usage"><code>(value-type this)</code></div><div class="doc"><pre class="plaintext">Get the type of the raw value.

:none
:long
:double
:bcd
:string
:date</pre></div></div></div></div></div><div class="public anchor" id="var-IMappify"><h3>IMappify</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Represent java objects in clojure data structures
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-to-map"><h3>to-map</h3><div class="usage"><code>(to-map this)</code></div><div class="doc"><pre class="plaintext">Convert a java object into a nice clojure map
</pre></div></div></div></div></div><div class="public anchor" id="var-ISecondaryAddress"><h3>ISecondaryAddress</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Extract information from a secondary address
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-device-id"><h3>device-id</h3><div class="usage"><code>(device-id this)</code></div><div class="doc"><pre class="plaintext">Get the device id
</pre></div></div><div class="public anchor" id="var-device-type"><h3>device-type</h3><div class="usage"><code>(device-type this)</code></div><div class="doc"><pre class="plaintext">Get the type of device such as :water-meter or :gas-meter
</pre></div></div><div class="public anchor" id="var-manufacturer-id"><h3>manufacturer-id</h3><div class="usage"><code>(manufacturer-id this)</code></div><div class="doc"><pre class="plaintext">Get the manufacturer id
</pre></div></div><div class="public anchor" id="var-to-ba"><h3>to-ba</h3><div class="usage"><code>(to-ba this)</code></div><div class="doc"><pre class="plaintext">Get this secondary address represented as a byte array
</pre></div></div><div class="public anchor" id="var-version"><h3>version</h3><div class="usage"><code>(version this)</code></div><div class="doc"><pre class="plaintext">Get the version
</pre></div></div></div></div></div><div class="public anchor" id="var-IVariableDataStructure"><h3>IVariableDataStructure</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Extract information from a variable data structure sent by a slave device following a req_ud2
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-access-number"><h3>access-number</h3><div class="usage"><code>(access-number this)</code></div><div class="doc"><pre class="plaintext">Get the access number
</pre></div></div><div class="public anchor" id="var-manufacturer-data"><h3>manufacturer-data</h3><div class="usage"><code>(manufacturer-data this)</code></div><div class="doc"><pre class="plaintext">Get a byte array representing manufacturer data
</pre></div></div><div class="public anchor" id="var-more-records.3F"><h3>more-records?</h3><div class="usage"><code>(more-records? this)</code></div><div class="doc"><pre class="plaintext">Is there more records ?
</pre></div></div><div class="public anchor" id="var-records"><h3>records</h3><div class="usage"><code>(records this)</code></div><div class="doc"><pre class="plaintext">Get data records
</pre></div></div><div class="public anchor" id="var-slave-address"><h3>slave-address</h3><div class="usage"><code>(slave-address this)</code></div><div class="doc"><pre class="plaintext">Get the secondary address of the slave device who sent the structure
</pre></div></div><div class="public anchor" id="var-status"><h3>status</h3><div class="usage"><code>(status this)</code></div><div class="doc"><pre class="plaintext">Get the status
</pre></div></div></div></div></div><div class="public anchor" id="var-secondary-address"><h3>secondary-address</h3><div class="usage"><code>(secondary-address string)</code></div><div class="doc"><pre class="plaintext">Make a secondary address from a hex string
</pre></div></div></div></body></html>