<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>bme280.i2c documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Bme280</span> <span class="project-version">0.0.0-alpha2</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="bme280.i2c.html"><div class="inner"><span>bme280.i2c</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="bme280.i2c.html#var-coefficients"><div class="inner"><span>coefficients</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-compensation-words"><div class="inner"><span>compensation-words</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-configure"><div class="inner"><span>configure</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-control-humidity"><div class="inner"><span>control-humidity</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-control-measurements"><div class="inner"><span>control-measurements</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-humidity"><div class="inner"><span>humidity</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-id"><div class="inner"><span>id</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-iir-response-time"><div class="inner"><span>iir-response-time</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-measure-max"><div class="inner"><span>measure-max</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-measure-typ"><div class="inner"><span>measure-typ</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-precise-temperature"><div class="inner"><span>precise-temperature</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-pressure"><div class="inner"><span>pressure</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-rate"><div class="inner"><span>rate</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-raw-data"><div class="inner"><span>raw-data</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-sensors"><div class="inner"><span>sensors</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-soft-reset"><div class="inner"><span>soft-reset</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-status"><div class="inner"><span>status</span></div></a></li><li class="depth-1"><a href="bme280.i2c.html#var-to-celcius"><div class="inner"><span>to-celcius</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">bme280.i2c</h1><div class="doc"><pre class="plaintext">I2C interface for the BME280 environmental sensor.
</pre></div><div class="public anchor" id="var-coefficients"><h3>coefficients</h3><div class="usage"><code>(coefficients cw)</code></div><div class="doc"><pre class="plaintext">Extracts coefficients from compensation words.

Cf. `compensation-words`</pre></div></div><div class="public anchor" id="var-compensation-words"><h3>compensation-words</h3><div class="usage"><code>(compensation-words bus)</code></div><div class="doc"><pre class="plaintext">Gets compensation words for all sensors.

Each sensing element behaves differently. Hence, raw data from the sensors must be
calibrated using those compensation words.


@ bus
  I2C bus.

=&gt; Byte array containing 32 bytes that need to be combined into multi-byte coefficients.


Throws

  java.io.IOException
    If an error occurs during one of the reads.


Cf. `coefficients`</pre></div></div><div class="public anchor" id="var-configure"><h3>configure</h3><div class="usage"><code>(configure bus inactive-duration iir-filter)</code></div><div class="doc"><pre class="plaintext">Configures the inactive duration and the IIR filter.

&lt;!&gt; Changes to this register only become effective after `control-measurements`.


@ bus
  I2C bus.

@ inactive-duraction
  Relevant to the normal mode and basically sets the period in milliseconds.
  One of #{0.5 10 20 62.5 125 250 500 1000}.

@ iir-filter
  The internal IIR filter can be configured for when the environmental pressure is subject to many short-term
  changes such as slamming a door or the wind blowing on the sensor. This will also affect temperature measurements.
 
  The value is one of these coefficients :

      coefficient | samples to reach &gt;= 75% of step response
      ------------------------------------------------------
         0 (off)  |  1
         2        |  2
         4        |  5
         8        | 11
        16        | 22

=&gt; `bus`


Throws

  java.io.IOException
    If an error occurs during writing.


Cf. `control-humidity`
    `control-measurements`</pre></div></div><div class="public anchor" id="var-control-humidity"><h3>control-humidity</h3><div class="usage"><code>(control-humidity bus oversampling)</code></div><div class="doc"><pre class="plaintext">Controls oversampling of humidity data.

&lt;!&gt; Changes to this register only become effective after `control-measurements`.

    Ideally humidity would be part of `control-measurements` but as it is another
    register, hence a separate write, we keep it explicitly separate.


@ bus
  I2C bus.

=&gt; `bus`


Throws

  java.io.IOException
    If an error occurs during writing.


Cf. `control-measurements`
    `configure`</pre></div></div><div class="public anchor" id="var-control-measurements"><h3>control-measurements</h3><div class="usage"><code>(control-measurements bus mode oversampling-temperature oversampling-pressure)</code></div><div class="doc"><pre class="plaintext">Chooses a mode and control oversampling of temperature and pressure data.

If the device is currently performing a measurement, execution of mode switching is delayed
until the end of the currently running measurement period. Further mode change commands, such
as `control-humidity`, are ignored until the mode change command has been executed.


@ bus
  I2C bus.

@ mode
  One of

    :sleep
        No operation, all registers accessible, lower power, selected after startup.

    :forced
        Performs one measurement, store results and return to sleep mode. To do another
        measurement, call this function with forced mode again.
        Recommended for low sampling rate, or "à la carte".

    :normal
        Perpetual cycling of measurements and inactive periods.
        Recommended for high sampling rate.

@ oversampling-temperature
  One of #{0 1 2 4 8 16} where 0 = disabled.

@ oversampling-pressure
  Like @oversampling-temperature.

=&gt; `bus`


Throws
 
  java.io.IOException
    If an error occurs during writing.


Cf. `control-humidity`
    `configure`</pre></div></div><div class="public anchor" id="var-humidity"><h3>humidity</h3><div class="usage"><code>(humidity {:as coeffs, :keys [H1 H2 H3 H4 H5 H6]} data precise-temp)</code></div><div class="doc"><pre class="plaintext">Computes the humidity.


@ coeffs
  Cf. `coefficients`

@ data
  Cf. `raw-data`

@ precise-temp
  Cf. `precise-temperature`


Cf. Appendix 8.1 in datasheet</pre></div></div><div class="public anchor" id="var-id"><h3>id</h3><div class="usage"><code>(id bus)</code></div><div class="doc"><pre class="plaintext">@ bus
  I2C bus.

=&gt; Chip identification number.


Throws

  java.io.IOException
   If an error occurs during reading.</pre></div></div><div class="public anchor" id="var-iir-response-time"><h3>iir-response-time</h3><div class="usage"><code>(iir-response-time rate coefficient)</code></div><div class="doc"><pre class="plaintext">Computes the response time of the sensors given the measurement rate and taking
into account the selected coefficient for the IIR filter.

Cf. `rate`
    `config`</pre></div></div><div class="public anchor" id="var-measure-max"><h3>measure-max</h3><div class="usage"><code>(measure-max o-t o-p o-h)</code></div><div class="doc"><pre class="plaintext">Computes the maximum measurement time in milliseconds given sensor oversamplings.
</pre></div></div><div class="public anchor" id="var-measure-typ"><h3>measure-typ</h3><div class="usage"><code>(measure-typ o-t o-p o-h)</code></div><div class="doc"><pre class="plaintext">Computes the typical measurement time in milliseconds given sensor oversamplings.
</pre></div></div><div class="public anchor" id="var-precise-temperature"><h3>precise-temperature</h3><div class="usage"><code>(precise-temperature {:as coeffs, :keys [T1 T2 T3]} data)</code></div><div class="doc"><pre class="plaintext">Computes the "precise" temperature.


@ coeffs
  Cf. `coefficients`

@ data
  Cf. `raw-data`

=&gt; Value that can then be converted to °C or used for computing pressure and humidity.

   Cf. `to-celcius`
       `pressure`
       `humidity`

       Appendix 8.1 in datasheet</pre></div></div><div class="public anchor" id="var-pressure"><h3>pressure</h3><div class="usage"><code>(pressure {:as coeffs, :keys [P1 P2 P3 P4 P5 P6 P7 P8 P9]} data precise-temp)</code></div><div class="doc"><pre class="plaintext">Computes the pressure.


@ coeffs
  Cf. `coefficients`

@ data
  Cf. `raw-data`

@ precise-temp
  Cf. `precise-temperature`

=&gt; Pressure in Pa.


Cf. Appendix 8.1 in datasheet</pre></div></div><div class="public anchor" id="var-rate"><h3>rate</h3><div class="usage"><code>(rate measure-ms)</code><code>(rate standby-ms measure-ms)</code></div><div class="doc"><pre class="plaintext">Compute the output data rate in hertz given measurement time.

In forced mode (ie. on user demand), it means the achievable rate.

In normal mode, the standby time must be provided.

Cf. `measure-typ`
    `control-measurements`</pre></div></div><div class="public anchor" id="var-raw-data"><h3>raw-data</h3><div class="usage"><code>(raw-data bus)</code><code>(raw-data bus ba)</code><code>(raw-data bus ba offset)</code></div><div class="doc"><pre class="plaintext">Reads 8 bytes representing pressure, temperature and humidity raw data.

Those values have to be adjusted using coefficients.

It is best to read everything even if a particular sensor is not needed, hence this is
what it does.


@ bus
  I2C bus.

=&gt; Given or newly created byte array.


Throws

  java.io.IOException
    If an error occurs during reading.


Cf. `coefficients`
    `precise-temperature`
    `pressure`
    `humidity`</pre></div></div><div class="public anchor" id="var-sensors"><h3>sensors</h3><div class="usage"><code>(sensors coeffs data)</code></div><div class="doc"><pre class="plaintext">Compute the temperature, the pressure and the humidity all at once.

Cf. `coefficients`
    `precise-temperature`
    `to-celcius`
    `pressure`
    `humidity`</pre></div></div><div class="public anchor" id="var-soft-reset"><h3>soft-reset</h3><div class="usage"><code>(soft-reset bus)</code></div><div class="doc"><pre class="plaintext">Does a soft reset.


@ bus
  I2C bus.

=&gt; `bus`


Throws

  java.io.IOException
    If an error occurs during writing.</pre></div></div><div class="public anchor" id="var-status"><h3>status</h3><div class="usage"><code>(status bus)</code></div><div class="doc"><pre class="plaintext">Gets the status of the device.

@ bus
  I2C bus.

=&gt; {:running-conversion?
     true
       If a conversion is running.

     false
       If results have been transfered to the data registers.

    :copying-NVM?
     true
       If NVM data are being copied to image registers.

     false
       If the copying is done.}


Throws

  java.io.IOException
    If an error occurs during reading.</pre></div></div><div class="public anchor" id="var-to-celcius"><h3>to-celcius</h3><div class="usage"><code>(to-celcius precise-temp)</code></div><div class="doc"><pre class="plaintext">Computes the temperature.

@ precise-temp
  Cf. `precise-temperature`

=&gt; Temperature in celcius.</pre></div></div></div></body></html>