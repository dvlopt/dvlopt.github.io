<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>dvlopt.linux.i2c.bme280 documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Linux.i2c.bme280</span> <span class="project-version">1.0.0-beta0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="dvlopt.linux.i2c.bme280.html"><div class="inner"><span>dvlopt.linux.i2c.bme280</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="dvlopt.linux.i2c.bme280.html#var-compensation-words"><div class="inner"><span>compensation-words</span></div></a></li><li class="depth-1"><a href="dvlopt.linux.i2c.bme280.html#var-configure"><div class="inner"><span>configure</span></div></a></li><li class="depth-1"><a href="dvlopt.linux.i2c.bme280.html#var-cycle-duration"><div class="inner"><span>cycle-duration</span></div></a></li><li class="depth-1"><a href="dvlopt.linux.i2c.bme280.html#var-defaults"><div class="inner"><span>defaults</span></div></a></li><li class="depth-1"><a href="dvlopt.linux.i2c.bme280.html#var-read-sensors"><div class="inner"><span>read-sensors</span></div></a></li><li class="depth-1"><a href="dvlopt.linux.i2c.bme280.html#var-soft-reset"><div class="inner"><span>soft-reset</span></div></a></li><li class="depth-1"><a href="dvlopt.linux.i2c.bme280.html#var-status"><div class="inner"><span>status</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">dvlopt.linux.i2c.bme280</h1><div class="doc"><pre class="plaintext">Interface for talking to BME280 sensors via I2C.

Any IO operation might throw in case of failure, and do not forget to always select the proper slave.

Relies on :

  <a href="https://github.com/dvlopt/linux.i2c.clj">https://github.com/dvlopt/linux.i2c.clj</a></pre></div><div class="public anchor" id="var-compensation-words"><h3>compensation-words</h3><div class="usage"><code>(compensation-words bus)</code></div><div class="doc"><pre class="plaintext">Retrieves compensation words from the slave.

Each sensor behaves a little differently, hence raw data must later be adjusted using those words.</pre></div></div><div class="public anchor" id="var-configure"><h3>configure</h3><div class="usage"><code>(configure bus)</code><code>(configure bus configuration)</code></div><div class="doc"><pre class="plaintext">Configures a previously selected slave device.

The configuration map may have the following options :

  ::iir-filter

    The internal IIR filter can be configured for when the environmental pressure is subject to many short-term
    changes such as slamming a door or the wind blowing on the sensor. This will also affect temperature measurements.

    The value is one of these coefficients :

        coefficient | samples to reach &gt;= 75% of step response
        ------------------------------------------------------
           0 (off)  |  1
           2        |  2
           4        |  5
           8        | 11
          16        | 22

  ::mode

    Mode is one of :

        :sleep
            No operation, all registers accessible, lower power, selected after startup.

        :forced
            Perform one measurement, store results and return to sleep mode. To do another
            measurement, call this function with forced mode again.
            Recommended for low sampling rate, or "à la carte".

        :normal
            Perpetual cycling of measurements and inactive periods.
            Recommended for high sampling rate.

    If the device is currently performing a measurement, execution of mode switching is delayed
    until the end of the currently running measurement period.

  ::oversampling.humidity
  ::oversampling.pressure
  ::oversampling.temperature

    Oversamplings are one of (where 0 = disable measurement) :

        #{:x0 :x1 :x2 :x4 :x8 :x16}

  ::standby

    Inactive duration period between 2 measurements, relevant for the :normal mode, in milliseconds.
    Must be one of :

        #{:0.5-ms :10-ms :20-ms :62.5-ms :125-ms :250-ms :500-ms :1000-ms}


Cf. `defaults` for used values for missing options</pre></div></div><div class="public anchor" id="var-cycle-duration"><h3>cycle-duration</h3><div class="usage"><code>(cycle-duration)</code><code>(cycle-duration configuration)</code></div><div class="doc"><pre class="plaintext">Given a configuration map, computes the duration of a single measurement cycle in milliseconds.

Returns a map containing :maximum, the maximum duration
                         :typical, the typical duration.

Cf. `configure`</pre></div></div><div class="public anchor" id="var-defaults"><h3>defaults</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Defaults values for options and keys used throughout this namespace.
</pre></div></div><div class="public anchor" id="var-read-sensors"><h3>read-sensors</h3><div class="usage"><code>(read-sensors bus compensation-words)</code></div><div class="doc"><pre class="plaintext">Reads data from the sensors and adjusts it using the given compensation-words.

Returns a map containing :

  ::humidity    in %rH
  ::pressure    in Pa
  ::temperature in °C


Cf. `compensation-words`</pre></div></div><div class="public anchor" id="var-soft-reset"><h3>soft-reset</h3><div class="usage"><code>(soft-reset bus)</code></div><div class="doc"><pre class="plaintext">Orders the slave to perform a soft reset.
</pre></div></div><div class="public anchor" id="var-status"><h3>status</h3><div class="usage"><code>(status bus)</code></div><div class="doc"><pre class="plaintext">Retrieves the current status of the slave and returns a map containing

::copying-nvm?         True when NVM data is being copied to image registers.
::running-conversion?  True when a conversion is currently running.</pre></div></div></div></body></html>